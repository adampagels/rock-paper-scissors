<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <div id="container"></div>
    <script>
      let playerScore = 0;
      let computerScore = 0;
      let playerSelection;

      function computerPlay() {
        let randomNumber = Math.floor(Math.random() * 100 + 1);
        if (randomNumber <= 40) {
          return 'Rock';
        } else if (randomNumber > 40 && randomNumber < 80) {
          return 'Paper';
        } else if (randomNumber => 80 || randomNumber == 100) {
          return 'Scissors';
        }
      }

      function playRound(playerSelection, computerSelection) {
        if (playerSelection === 'rock' && computerSelection == 'Paper') {
          console.log('Paper covers rock. Computer wins!');
          computerScore += 1;
        } else if (
          playerSelection == 'rock' &&
          computerSelection == 'Scissors'
        ) {
          console.log('Rock smashes scissors. You win!');
          playerScore += 1;
        } else if (playerSelection == 'rock' && computerSelection == 'Rock') {
          console.log('Tie! Rock shall never kill rock. Play again.');
        } else if (
          playerSelection === 'paper' &&
          computerSelection == 'Paper'
        ) {
          console.log(
            'Tie! Two pieces of papers are just a short story. Try again.'
          );
        } else if (
          playerSelection == 'paper' &&
          computerSelection == 'Scissors'
        ) {
          console.log('Scissors cut paper. Computer wins!');
          computerScore += 1;
        } else if (playerSelection == 'paper' && computerSelection == 'Rock') {
          console.log('Paper covers rock. You win!');
          playerScore += 1;
        } else if (
          playerSelection === 'scissors' &&
          computerSelection == 'Paper'
        ) {
          console.log('Scissors cut paper. You win!');
          playerScore += 1;
        } else if (
          playerSelection == 'scissors' &&
          computerSelection == 'Scissors'
        ) {
          console.log(
            'Two scissors just make "SHHHHIIIINNG" noises. Play again.'
          );
        } else if (
          playerSelection == 'scissors' &&
          computerSelection == 'Rock'
        ) {
          console.log('Rock smashes scissors. Computer wins!');
          computerScore += 1;
        }
      }

      function displayGameOver() {
        if (playerScore == 5) {
          console.log('YOU WIN!');
          playerScore = 0;
          computerScore = 0;
        } else if (computerScore == 5) {
          console.log('YOU LOSE! PLAY AGAIN.');
          playerScore = 0;
          computerScore = 0;
        } else {
          gameOver();
        }
      }

      // function game() {
      //   for (i = 0; i < 5; i++) {
      //     let computerSelection = computerPlay();
      //     console.log(playerScore, computerScore);
      //     let promptAnswer = prompt('Choose your weapon', '');
      //     playerSelection = promptAnswer.toLowerCase();
      //     playRound(playerSelection, computerSelection);
      //   }
      //   gameOver();
      // }

      const container = document.querySelector('#container');

      const buttonList = document.createElement('div');
      container.appendChild(buttonList);

      let rockButton = document.createElement('button');
      rockButton.textContent = 'Rock';
      buttonList.appendChild(rockButton);
      rockButton.addEventListener('click', () => {
        playerSelection = 'rock';
        playRound(playerSelection, computerSelection);
        console.log(computerSelection);
        console.log(playerSelection);
        console.log(playerScore, computerScore);
        gameOver();
      });

      let paperButton = document.createElement('button');
      paperButton.textContent = 'Paper';
      buttonList.appendChild(paperButton);
      paperButton.addEventListener('click', () => {
        computerPlay();
        playerSelection = 'paper';
        playRound(playerSelection, computerSelection);
        console.log(computerSelection);
        console.log(playerSelection);
        console.log(playerScore, computerScore);
        gameOver();
      });

      let scissorsButton = document.createElement('button');
      scissorsButton.textContent = 'Scissors';
      buttonList.appendChild(scissorsButton);
      scissorsButton.addEventListener('click', () => {
        playerSelection = 'scissors';
        playRound(playerSelection, computerSelection);
        console.log(computerSelection);
        console.log(playerSelection);
        console.log(playerScore, computerScore);
        gameOver();
      });
    </script>
  </body>
</html>
